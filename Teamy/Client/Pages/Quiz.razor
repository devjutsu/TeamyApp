@page "/q/{Code}"
@inject IManageQuiz QuizService

<h3>Quiz</h3>

@if (CurrentQuiz == null)
{
    <div>Incorrect code</div>
}
else
{
    <div>@Code</div>
}

@code {
    [Parameter]
    public string Code { get; set; }

    public QuizVM CurrentQuiz { get; set; }

    protected override async Task OnInitializedAsync()
    {
        CurrentQuiz = await QuizService.Get(Code);


        await QuizService.Post(new QuizAnswerPostVM());

        await QuizService.Submit(Code);
    }
}
